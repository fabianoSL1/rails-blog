<%= render "shared/header" %>

<% unless @posts.present? %>
  <div class="d-flex flex-column align-items-center">
    <div class="mx-auto" style="max-width: 480px" >
      <%= image_tag("blank_canvas_undraw.png", :alt =>  "blank canvas", :class => "img-fluid") %>
    </div>
    <a href="<%= new_post_path %>" class="btn btn-primary">Write a new post!</a>
  </div>

<%  end %>

<% if @posts.present? %>
  <div class="container">
    <div class="mt-5 row justify-content-center">
      <div class="col-5">

        <% @posts.each do |post| %>
          <div class="mb-2 card">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-center mb-3">

                <a class="text-decoration-none display-6" href="<%= post_path(post) %>">
                  <%= post.title %>
                </a>
                <div class="d-flex gap-2 align-items-center">
                  <%= render "posts/actions", :post => post %>
                </div>
              </div>


              <div class="d-flex justify-content-between">
                <p><%= post.user.name %></p>
                <time><%= post.created_at %></time>
              </div>
            </div>
          </div>
        <% end %>

        <nav>
          <ul class="mt-4 pagination">
            <li class="page-item">
              <a class="page-link" href="<%= posts_path %>" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>

            <% if @posts.prev_page.present? %>
              <li class="page-item">
                <a href="<%= posts_path page: @posts.prev_page %>" class="page-link"><%= @posts.prev_page %></a>
              </li>
            <% end %>

            <li class="page-item active">
              <a href="<%= posts_path page: @posts.prev_page %>" class="page-link"><%= @posts.current_page %></a>
            </li>


            <% if @posts.next_page.present? %>
              <li class="page-item">
                <a href="<%= posts_path page: @posts.next_page %>" class="page-link"><%= @posts.next_page %></a>
              </li>
            <% end %>

            <li class="page-item">
              <a class="page-link" href="<%= posts_path page: @posts.total_pages %>" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>
          </ul>
        </nav>

      </div>

    </div>
  </div>
<% end %>